<ng-keyboard-shortcuts [shortcuts]="shortcuts"></ng-keyboard-shortcuts>

<form (submit)="submit(); $event.preventDefault()" *ngIf="this.form !== undefined" style="padding: 24px;border-radius: 10px; background: #f2f2f2;">
  <div class="form-group" *ngIf="this.form.tariffHeading != undefined">
    <input type="text"
      [(ngModel)]="this.form.tariffHeading" [ngModelOptions]="{standalone: true}"
      class="form-control form-control-sm shadow-sm form-control-light"
      (mouseover)="updateHelpContext('form-customs-worksheet-line-tariffheading')"
      placeholder="Tariff Heading"
      [ngClass]="{'form-control-invalid': this.form.tariffHeadingError !== null && this.form.tariffHeadingError !== undefined}"/>
      <p class="invalid-control-label" *ngIf="this.form.tariffHeadingError !== null && this.form.tariffHeadingError !== undefined" style="width: 100%;">{{this.form.tariffHeadingError}}</p>
  </div>
  <div class="form-group" *ngIf="this.form.commonFactor != undefined">
      <input type="text"  id="hsQuantity"
        [(ngModel)]="this.form.commonFactor" [ngModelOptions]="{standalone: true}"
        class="form-control form-control-sm shadow-sm form-control-light"
        (mouseover)="updateHelpContext('form-customs-worksheet-line-commonfactor')"
        placeholder="Common Factor"
        [ngClass]="{'form-control-invalid': this.form.commonFactorError !== null && this.form.commonFactorError !== undefined}"/>
        <p class="invalid-control-label" *ngIf="this.form.commonFactorError !== null && this.form.commonFactorError !== undefined" style="width: 100%;">{{this.form.commonFactorError}}</p>
    </div>
  <div class="form-group">
    <label for="custVal">Customs Value</label>
    <input type="number" id="custVal"
      [(ngModel)]="this.form.custVal" [ngModelOptions]="{standalone: true}"
      class="form-control form-control-sm shadow-sm form-control-light"
      (mouseover)="updateHelpContext('form-customs-worksheet-line-custval')"
      placeholder="Customs Value"
      [ngClass]="{'form-control-invalid': this.form.custValError !== null && this.form.custValError !== undefined}"/>
      <p class="invalid-control-label" *ngIf="this.form.custValError !== null && this.form.custValError !== undefined" style="width: 100%;">{{this.form.custValError}}</p>
  </div>
  <div class="form-group" *ngIf="this.form.hsQuantity != undefined">
      <label for="hsQuantity">HS Quantity</label>
    <input type="text"  id="hsQuantity"
      [(ngModel)]="this.form.hsQuantity" [ngModelOptions]="{standalone: true}"
      class="form-control form-control-sm shadow-sm form-control-light"
      (mouseover)="updateHelpContext('form-customs-worksheet-line-hsquantity')"
      placeholder="HS Quantity"
      [ngClass]="{'form-control-invalid': this.form.hsQuantityError !== null && this.form.hsQuantityError !== undefined}"/>
      <p class="invalid-control-label" *ngIf="this.form.hsQuantityError !== null && this.form.hsQuantityError !== undefined" style="width: 100%;">{{this.form.hsQuantityError}}</p>
  </div>
  <div class="form-group" *ngIf="this.form.foreignInv != undefined">
      <label for="foreignInv">Foreign Inv</label>
    <input type="text" id="foreignInv"
      [(ngModel)]="this.form.foreignInv" [ngModelOptions]="{standalone: true}"
      class="form-control form-control-sm shadow-sm form-control-light"
      (mouseover)="updateHelpContext('form-customs-worksheet-line-foreigninv')"
      placeholder="Foreign Invoice"
      [ngClass]="{'form-control-invalid': this.form.foreignInvError !== null && this.form.foreignInvError !== undefined}"/>
      <p class="invalid-control-label" *ngIf="this.form.foreignInvError !== null && this.form.foreignInvError !== undefined" style="width: 100%;">{{this.form.foreignInvError}}</p>
  </div>
  <div class="form-group" *ngIf="this.form.duty != undefined">
      <label for="duty">Duty</label>
    <input type="text" id="duty"
      [(ngModel)]="this.form.duty" [ngModelOptions]="{standalone: true}"
      class="form-control form-control-sm shadow-sm form-control-light"
      (mouseover)="updateHelpContext('form-customs-worksheet-line-duty')"
      placeholder="Duty"
      [ngClass]="{'form-control-invalid': this.form.dutyError !== null && this.form.dutyError !== undefined}"/>
      <p class="invalid-control-label" *ngIf="this.form.dutyError !== null && this.form.dutyError !== undefined" style="width: 100%;">{{this.form.dutyError}}</p>
  </div>
  <div class="form-group">
    <label for="supplyUnit">Supply Unit</label>
  <input type="text" id="supplyUnit"
    [(ngModel)]="this.form.supplyUnit" [ngModelOptions]="{standalone: true}"
    class="form-control form-control-sm shadow-sm form-control-light"
    (mouseover)="updateHelpContext('form-customs-worksheet-line-supplyUnit')"
    placeholder="Supply Unit"/>
  </div>
  <div class="form-group">
    <label for="currencyID">Currency</label>
  <input type="text" id="currencyID"
    [(ngModel)]="this.form.currencyID" type="number" [ngModelOptions]="{standalone: true}"
    class="form-control form-control-sm shadow-sm form-control-light"
    (mouseover)="updateHelpContext('form-customs-worksheet-line-supplyUnit')"
    placeholder="Currency"/>
  </div>
  <div class="form-group">
    <label for="unitOfMeasureID">Unit of Measure</label>
  <input type="text" id="unitOfMeasureID"
    [(ngModel)]="this.form.unitOfMeasureID" type="number" [ngModelOptions]="{standalone: true}"
    class="form-control form-control-sm shadow-sm form-control-light"
    (mouseover)="updateHelpContext('form-customs-worksheet-line-supplyUnit')"
    placeholder="Unit Of Measure"/>
  </div>
  <div class="form-group">
    <label for="tariffID">Tariff</label>
  <input type="text" id="tariffID"
    [(ngModel)]="this.form.tariffID" type="number" [ngModelOptions]="{standalone: true}"
    class="form-control form-control-sm shadow-sm form-control-light"
    (mouseover)="updateHelpContext('form-customs-worksheet-line-supplyUnit')"
    placeholder="Tariff"/>
  </div>
  <div class="form-group">
  <input type="text"
    [(ngModel)]="this.form.invoiceNo" type="text" [ngModelOptions]="{standalone: true}"
    class="form-control form-control-sm shadow-sm form-control-light"
    (mouseover)="updateHelpContext('form-customs-worksheet-line-duty')" placeholder="Invoice No"/>
  </div>
  <div class="form-group">
    <input type="text"
      [(ngModel)]="this.form.vat" type="text" [ngModelOptions]="{standalone: true}"
      class="form-control form-control-sm shadow-sm form-control-light"
      (mouseover)="updateHelpContext('form-customs-worksheet-line-duty')" placeholder="VAT"/>
  </div>
  <div class="form-group">
    <input type="text"
      [(ngModel)]="this.form.prodCode" type="text" [ngModelOptions]="{standalone: true}"
      class="form-control form-control-sm shadow-sm form-control-light"
      (mouseover)="updateHelpContext('form-customs-worksheet-line-duty')" placeholder="Product Code"/>
  </div>
  <div class="form-group">
      <input [(ngModel)]="this.countryQuery" type="text"
      class="form-control form-control-sm shadow-sm form-control-light"
      (keyup)="filterCountries()"
      placeholder="COO" aria-label="COOID"
      [formControl]="cooControl"
      [matAutocomplete]="cooAuto"
      (mouseover)="updateHelpContext('form-customs-worksheet-line-coo')">
      <mat-autocomplete #cooAuto="matAutocomplete" >
        <mat-option *ngFor="let country of countriesList" [value]="country.code"
        (onSelectionChange)="selectedCountry(country.countryID)">
          {{country.code}} - {{country.name}}
        </mat-option>
      </mat-autocomplete>
  </div>
</form>
